@using booksite.Models
@{
    ViewData["Title"] = "Главная страница";
}

<div class="content-wrapper">
    <!-- Hero Section -->
    <section class="hero-section mb-5">
        <div class="text-center">
            <h1 class="display-4 mb-4">Добро пожаловать в BookSite</h1>
            <p class="lead mb-4">Крупнейший онлайн-каталог книг с лучшими произведениями</p>
            <a href="/Home/Catalog" class="btn btn-primary btn-lg">Смотреть каталог</a>
        </div>
    </section>

    <!-- Featured Books -->
    @if (ViewBag.FeaturedBooks != null && ((List<Book>)ViewBag.FeaturedBooks).Count > 0)
    {
        <section class="mb-5">
            <h2 class="text-center mb-4">Рекомендуемые книги</h2>
            <div class="books-grid">
                @foreach (var book in (List<Book>)ViewBag.FeaturedBooks)
                {
                    <div class="book-card">
                        @if (book.IsBestseller)
                        {
                            <div class="book-badge">Бестселлер</div>
                        }
                        <div class="book-image">
                            <img src="@book.ImageUrl" alt="@book.Title">
                        </div>
                        <div class="book-info">
                            <h3 class="book-title">@book.Title</h3>
                            <p class="book-author">@book.Author</p>
                            <div class="book-meta">
                                <div class="book-price">@book.Price ₽</div>
                                <div class="book-rating">
                                    @for (int i = 0; i < 5; i++)
                                    {
                                        <span class="star">@(i < (int)book.Rating ? "★" : "☆")</span>
                                    }
                                    <span>(@book.Rating.ToString("0.0"))</span>
                                </div>
                            </div>
                            <div class="book-actions">
                                <a href="/Home/Product/@book.Id" class="btn btn-outline mb-2">Подробнее</a>
                                <button onclick="addToCart(@book.Id)" class="btn btn-primary">В корзину</button>
                            </div>
                        </div>
                    </div>
                }
            </div>
        </section>
    }
</div>

<script>
    function addToCart(bookId) {
        showNotification('Книга #' + bookId + ' добавлена в корзину (демо)', 'success');
    }
</script>
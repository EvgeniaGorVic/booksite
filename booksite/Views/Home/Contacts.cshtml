@{
    ViewData["Title"] = "Контакты";
}

<div class="content-wrapper">
    <h1 class="text-center mb-5">Контакты</h1>

    <div class="row">
        <div class="col-md-6">
            <div class="card mb-4">
                <div class="card-body">
                    <h3 class="card-title mb-4">Контактная информация</h3>

                    <div class="contact-info">
                        <div class="contact-item mb-3">
                            <i class="fas fa-map-marker-alt text-primary me-3"></i>
                            <div>
                                <strong>Адрес:</strong>
                                <p>г. Москва, ул. Примерная, 1, офис 101</p>
                            </div>
                        </div>

                        <div class="contact-item mb-3">
                            <i class="fas fa-phone text-primary me-3"></i>
                            <div>
                                <strong>Телефон:</strong>
                                <p>+7 (900) 123-45-67</p>
                            </div>
                        </div>

                        <div class="contact-item mb-3">
                            <i class="fas fa-envelope text-primary me-3"></i>
                            <div>
                                <strong>Email:</strong>
                                <p>info@booksite.ru</p>
                            </div>
                        </div>

                        <div class="contact-item mb-3">
                            <i class="fas fa-clock text-primary me-3"></i>
                            <div>
                                <strong>Режим работы:</strong>
                                <p>Пн-Пт: 9:00-21:00<br>Сб-Вс: 10:00-20:00</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-body">
                    <h3 class="card-title mb-4">Карта проезда</h3>
                    <div id="map" style="height: 300px; border-radius: var(--radius-lg); overflow: hidden;">
                        <!-- Карта будет загружена через JavaScript -->
                        <div class="text-center py-5">
                            <i class="fas fa-map-marked-alt fa-3x text-muted mb-3"></i>
                            <p>Карта загружается...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card">
                <div class="card-body">
                    <h3 class="card-title mb-4">Обратная связь</h3>

                    @if (TempData["Success"] != null)
                    {
                        <div class="alert alert-success" role="alert">
                            @TempData["Success"]
                        </div>
                    }

                    @if (TempData["Error"] != null)
                    {
                        <div class="alert alert-danger" role="alert">
                            @TempData["Error"]
                        </div>
                    }

                    <form method="post" action="/Home/SendContactMessage">
                        @Html.AntiForgeryToken()

                        <div class="form-group mb-3">
                            <label for="name" class="form-label">Ваше имя *</label>
                            <input type="text" class="form-control" id="name" name="name" required>
                        </div>

                        <div class="form-group mb-3">
                            <label for="email" class="form-label">Email *</label>
                            <input type="email" class="form-control" id="email" name="email" required>
                        </div>

                        <div class="form-group mb-3">
                            <label for="subject" class="form-label">Тема</label>
                            <input type="text" class="form-control" id="subject" name="subject">
                        </div>

                        <div class="form-group mb-3">
                            <label for="message" class="form-label">Сообщение *</label>
                            <textarea class="form-control" id="message" name="message" rows="5" required></textarea>
                        </div>

                        <button type="submit" class="btn btn-primary btn-lg w-100">
                            Отправить сообщение
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // Инициализация карты
    function initMap() {
        const mapElement = document.getElementById('map');
        if (!mapElement) return;

        // Используем OpenStreetMap
        const mapUrl = 'https://www.openstreetmap.org/export/embed.html?bbox=37.618423%2C55.751244%2C37.623423%2C55.756244&layer=mapnik&marker=55.7537,37.6208';

        mapElement.innerHTML = `
            <iframe
                src="${mapUrl}"
                width="100%"
                height="300"
                style="border:0;"
                allowfullscreen=""
                loading="lazy">
            </iframe>
        `;
    }

    document.addEventListener('DOMContentLoaded', initMap);
</script>